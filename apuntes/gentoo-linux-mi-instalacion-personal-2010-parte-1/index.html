<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Documento paso a paso la instalación de Gentoo Linux en una netbook con procesador Intel Atom N280.">
    <meta name="keywords" content="gentoo linux, apuntes">
    <meta name="author" content="Guillermo Valdés Lozano (guivaloz)">
    <meta itemprop="name" content="Gentoo Linux en una netbook (2010, parte 1)">
    <meta itemprop="description" content="Documento paso a paso la instalación de Gentoo Linux en una netbook con procesador Intel Atom N280.">
    <meta itemprop="image" content="/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/preview.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@guivaloz">
    <meta name="twitter:title" content="Gentoo Linux en una netbook (2010, parte 1)">
    <meta name="twitter:description" content="Documento paso a paso la instalación de Gentoo Linux en una netbook con procesador Intel Atom N280.">
    <meta name="twitter:image:src" content="/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/preview.jpg">
    <meta property="og:title" content="Gentoo Linux en una netbook (2010, parte 1)">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/">
    <meta property="og:image" content="/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/preview.jpg">
    <meta property="og:description" content="Documento paso a paso la instalación de Gentoo Linux en una netbook con procesador Intel Atom N280.">
    <meta property="og:site_name" content="Movimiento Libre">
    <title>Gentoo Linux en una netbook (2010, parte 1) - Movimiento Libre</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" href="/theme/images/icon-hires.png" sizes="192x192">
    <link rel="icon" href="/theme/images/icon-normal.png" sizes="128x128">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="alternate" href="/feeds/all.rss.xml" type="application/rss+xml" title="Movimiento Libre Full RSS Feed" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">
    <link rel="stylesheet" href="/theme/css/movimiento-libre.css">
                    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-74263253-1"></script>
                    <script>
                        window.dataLayer = window.dataLayer || [];
                        function gtag(){dataLayer.push(arguments);}
                        gtag('js', new Date());
                        gtag('config', 'UA-74263253-1');
                    </script>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-light fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="/">Movimiento Libre</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navBootstrap4" aria-controls="navBootstrap4" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navBootstrap4">
                <ul class="navbar-nav mr-auto">
                    <li><a class="nav-link" href="/category/apuntes.html">Apuntes</a></li>
                    <li><a class="nav-link" href="/category/articulos.html">Artículos</a></li>
                    <li><a class="nav-link" href="/category/presentaciones.html">Presentaciones</a></li>
                    <li><a class="nav-link" href="/portafolio/contacto/index.html">Contacto</a></li>
                </ul>
                <ul class="navbar-nav movimientolibre-navbar-icons">
                    <li><a class="movimientolibre-navbar-icon-link" href="https://twitter.com/guivaloz/" target="_blank"><i class="fab fa-twitter-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="https://www.facebook.com/movimientolibrepuntocom/" target="_blank"><i class="fab fa-facebook-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="https://github.com/guivaloz" target="_blank"><i class="fab fa-github-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="/feeds/all.rss.xml"><i class="fa fa-rss-square"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <header>
            <div class="jumbotron head-welcome" itemscope itemtype="http://schema.org/Organization">
                <h1 class="jumbotron-heading head-site-name" itemprop="name">Movimiento Libre</h1>
                <p class="head-site-description" itemprop="description">Plataforma de divulgación de conocimiento libre por Ing. Guillermo Valdés Lozano (guivaloz)</p>
            </div>
        </header>
        <div class="row">
            <div class="col-sm-8">
                <article class="article-post">
                    <script type="application/ld+json">
                        {
                            "@context": "http://schema.org",
                            "@type": "Article",
                            "publisher": {
                            "@type": "Organization",
                            "name": "Movimiento Libre",
                            "logo": {
                                "@type": "ImageObject",
                                "url": "https://movimientolibre.com/theme/images/movimientolibre.png"
                            },
                            "url": "https://movimientolibre.com"
                        },
                        "author": "Guillermo Valdés Lozano (guivaloz)",
                        "name": "Gentoo Linux en una netbook (2010, parte 1)",
                        "headline": "Gentoo Linux en una netbook (2010, parte 1)",
                        "description": "Documento paso a paso la instalación de Gentoo Linux en una netbook con procesador Intel Atom N280.",
                        "dateCreated": "2010-11-20 10:40:00-06:00",
                        "datePublished": "2010-11-20 10:40:00-06:00",
                        "dateModified": "2010-11-20 10:40:00-06:00",
                        "image": "https://movimientolibre.com/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/preview.jpg",
                        "url": "https://movimientolibre.com/apuntes/gentoo-linux-mi-instalacion-personal-2010-parte-1/"
                        }
                    </script>
                    <h2 class="article-post-title">Gentoo Linux en una netbook (2010, parte 1)</h2>
                    <p class="article-post-meta">Guillermo Valdés Lozano (guivaloz)<br>20 noviembre 2010</p>
<p><img alt="Cow Push" src="cow-push.jpg"></p>
<p>Después de varios meses de tener una instalación completa de <a href="http://www.kde.org/">KDE</a> en mi <em>netbook</em> comenzé a pensar de que el poderoso y grande ambiente gráfico le restaba potencial a mi equipo. Era frecuente que el administrador de archivos Dolphin demorara algunos segundos en cargar. También la carga y velocidad de respuesta de la suite de información personal (PIM), en particular de <a href="http://pim.kde.org/">KMail</a>, era lenta.</p>
<p>El concepto de una <em>netbook</em> involucra un procesador versátil y modesto. El <a href="http://es.wikipedia.org/wiki/Intel_Atom">Intel Atom</a> fue diseñado con ese fin, hereda mucha tecnología de la familia Pentium y consume poca energía para prolongar la duración de la carga en un equipo portátil. Pero <strong>no</strong> se trata de un procesador de alto rendimiento. Recordemos que fue <em>Windows XP</em> y no <em>Windows Vista</em> el que apareció preinstalado en las <em>netbooks</em> a la venta, por obvias razones.</p>
<p>Antes de buscar la reinstalación, me pregunté... ¿de verdad necesito vistosos elementos en mi escritorio?, ¿vale la pena que <a href="http://www.kde.org/workspaces/plasmadesktop/">Plasma</a> me consuma desde el 5% al 50% de mi procesador y en consecuencia más carga de mi batería?. Fue entonces que decidí arriesgarme, y tomar un entorno más simple, más rápido, que me consumiera menos recursos.</p>
<p>Siguiendo los pasos de esta guía, lograremos tener un sistema <a href="http://www.gentoo.org/">Gentoo Linux</a> con tres opciones gráficas de trabajo:</p>
<ul>
<li><a href="http://www.fluxbox.org/">Fluxbox</a> es un gestor de ventanas muy ligero.</li>
<li><a href="http://www.xfce.org/">XFCE4</a> es un entorno gráfico ligero con una buena cantidad de comodidades.</li>
<li><a href="http://www.compiz.org/">Compiz</a> es un gestor de ventanas modular con efectos espectaculares.</li>
</ul>
<p>Aclaro que lo que sigue es solo una guía; los pasos que su servidor ha ejecutado. Usted tiene la libertad de tomar el rumbo que guste. No deje de consultar la <a href="http://www.gentoo.org/doc/en/handbook/">Documentación Oficial de Instalación</a> de Gentoo.</p>
<p>A continuación, documento paso a paso la instalación de Gentoo Linux en una <em>netbook</em> con procesador <strong>Intel Atom N280</strong>. Le informo que los comandos con # son ejecutados con el super-usuario <strong>root</strong>, que de hecho, son la mayoría.</p>
<h3>Instalación asistida</h3>
<p><img class="img-fluid" src="instalacion-asistida.jpg" alt="Instalación asistida"></p>
<p>No dudo que una <em>netbook</em> pueda compilar todos los paquetes que necesito instalar para mi escritorio con Gentoo Linux; pero tardaría mucho, mucho tiempo. Es por ello que le paso esa labor a un equipo más poderoso; que lo haga en menos tiempo.</p>
<p>Ante esto... si los equipos son distintos... ¿funcionará lo que compile uno en el otro?. Para ello hay que revisar las similitudes y diferencias entre los procesadores de ambos equipos. Revise en <a href="https://wiki.gentoo.org/">Gentoo Wiki</a> el documento <a href="https://wiki.gentoo.org/wiki/Safe_Cflags">Safe CFlags</a> el cual muestra los parámetros recomendados de compilación para cada procesador.</p>
<p>Afortunadamente, en el momento de escribir esta guía, tanto el <strong>Intel DualCore</strong> como el <strong>Atom 230, 330 N-Series</strong> tienen los mismos parámetros de compilación:</p>
<div class="highlight"><pre><span></span>CHOST=&quot;i686-pc-linux-gnu&quot;
CFLAGS=&quot;-march=prescott -O2 -fomit-frame-pointer -pipe&quot;
CXXFLAGS=&quot;<span class="cp">${</span><span class="n">CFLAGS</span><span class="cp">}</span>&quot;
</pre></div>


<p>También es posible hacer compilación asistida si el procesador del equipo <em>poderoso</em> tiene la misma arquitectura y/o es más <em>nuevo</em> que el de los equipos de destino. Cuestión de probarlo. Por ejemplo, las compilaciones hechas con parámetros para el <strong>VIA C7</strong> en el <em>Intel DualCore</em> me han funcionado:</p>
<div class="highlight"><pre><span></span>CHOST=&quot;i686-pc-linux-gnu&quot;
CFLAGS=&quot;-march=i686 -mmmx -msse -msse2 -msse3 -O2 -pipe -fomit-frame-pointer&quot;
CXXFLAGS=&quot;<span class="cp">${</span><span class="n">CFLAGS</span><span class="cp">}</span>&quot;
</pre></div>


<p>Para hacer una instalación asistida elija una ubicación en el disco duro del equipo <em>poderoso</em> con suficiente espacio; lo necesario para contener el sistema completo y los archivos que descargue. Para dar una cifra, sugiero unos 8 GB libres. En mi equipo <em>poderoso</em> uso /mnt/archivos/instalaciones para ese fin. Voy a crear ahí un directorio con el nombre <em>prescott</em>:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span>
<span class="o">#</span> <span class="n">mkdir</span> <span class="n">prescott</span>
</pre></div>


<h3>Use el stage más reciente</h3>
<p>Mi sitio predilecto para descargar el <em>stage</em> es en el <a href="http://osuosl.org/">Oregon State University - Open Source Lab</a> en éste URL: <a href="http://gentoo.osuosl.org/releases/">http://gentoo.osuosl.org/releases/</a>. Note que parece un nuevo <em>stage</em> frecuentemente. <strong>Le recomiendo que siempre use el stage más nuevo</strong>. Cuando escribí esta guía, bajé el <em>stage</em> <strong>x86</strong> del 9 de noviembre de 2010:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">gentoo</span>
<span class="o">#</span> <span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">gentoo</span><span class="p">.</span><span class="n">osuosl</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">x86</span><span class="o">/</span><span class="k">current</span><span class="o">-</span><span class="n">stage3</span><span class="o">/</span><span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span>
<span class="o">#</span> <span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">gentoo</span><span class="p">.</span><span class="n">osuosl</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">x86</span><span class="o">/</span><span class="k">current</span><span class="o">-</span><span class="n">stage3</span><span class="o">/</span><span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span><span class="p">.</span><span class="n">CONTENTS</span>
<span class="o">#</span> <span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">gentoo</span><span class="p">.</span><span class="n">osuosl</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">x86</span><span class="o">/</span><span class="k">current</span><span class="o">-</span><span class="n">stage3</span><span class="o">/</span><span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span><span class="p">.</span><span class="n">DIGESTS</span>
<span class="o">#</span> <span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">gentoo</span><span class="p">.</span><span class="n">osuosl</span><span class="p">.</span><span class="n">org</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">x86</span><span class="o">/</span><span class="k">current</span><span class="o">-</span><span class="n">stage3</span><span class="o">/</span><span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span><span class="p">.</span><span class="n">DIGESTS</span><span class="p">.</span><span class="k">asc</span>
</pre></div>


<p>Compruebe la integridad de los archivos descargados con...</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">md5sum</span> <span class="o">-</span><span class="k">c</span> <span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span><span class="p">.</span><span class="n">DIGESTS</span>
</pre></div>


<p>Desempaque.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span><span class="o">/</span><span class="n">prescott</span>
<span class="o">#</span> <span class="n">tar</span> <span class="n">xvf</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">gentoo</span><span class="o">/</span><span class="n">stage3</span><span class="o">-</span><span class="n">i686</span><span class="o">-</span><span class="mi">20101109</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">bz2</span>
</pre></div>


<p>Monte <em>dev</em> y <em>proc</em>.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">mount</span> <span class="o">-</span><span class="n">t</span> <span class="n">proc</span> <span class="k">none</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span><span class="o">/</span><span class="n">prescott</span><span class="o">/</span><span class="n">proc</span>
<span class="o">#</span> <span class="n">mount</span> <span class="o">-</span><span class="n">o</span> <span class="n">bind</span> <span class="o">/</span><span class="n">dev</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span><span class="o">/</span><span class="n">prescott</span><span class="o">/</span><span class="n">dev</span>
</pre></div>


<p>Copie la configuración de resolución de nombres. Esto es necesario para cuando el Gentoo esté <em>enjaulado</em> por <em>chroot</em>, así sabrá cual es el <em>DNS</em> de su red.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">cp</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">resolv</span><span class="p">.</span><span class="n">conf</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span><span class="o">/</span><span class="n">prescott</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span>
</pre></div>


<p>Ingrese a al <em>stage</em> con <em>chroot</em>.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">chroot</span> <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span><span class="o">/</span><span class="n">instalaciones</span><span class="o">/</span><span class="n">prescott</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span>
<span class="o">#</span> <span class="n">env</span><span class="o">-</span><span class="k">update</span>
<span class="o">#</span> <span class="k">source</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">profile</span>
<span class="o">#</span> <span class="n">export</span> <span class="n">PS1</span><span class="o">=</span><span class="ss">&quot;(prescott) $PS1&quot;</span>
</pre></div>


<h3>Configure</h3>
<p>Edite /etc/make.conf</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">make</span><span class="p">.</span><span class="n">conf</span>
</pre></div>


<p>Para el cual sugiero el siguiente contenido...</p>
<div class="highlight"><pre><span></span>#
# /etc/make.conf
#
# Para Intel Prescott (Dual Core, Atom) de 32 bits
#

# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
CHOST=&quot;i686-pc-linux-gnu&quot;

#
# Netbook con Intel Atom N280 @ 1.66 GHz
#
CFLAGS=&quot;-march=prescott -O2 -fomit-frame-pointer -pipe&quot;
CXXFLAGS=&quot;<span class="cp">${</span><span class="n">CFLAGS</span><span class="cp">}</span>&quot;

# Puede hacer tres compilaciones en paralelo
MAKEOPTS=&quot;-j3&quot;

# Espaniol como lengua
LINGUAS=&quot;es es_MX&quot;

# Aceptar todas las licencias
ACCEPT_LICENSE=&quot;*&quot;

#
# Use Flags
#

# Intel Dual Core, Atom
USE=&quot;acpi laptop mmx mmxext sse sse2 ssse3 threads&quot;

#
# Servidor Portage
#
SERVIDOR_PORTAGE=otroequipo.tured.lan
PORTDIR=/usr/portage
DISTDIR=<span class="cp">${</span><span class="n">PORTDIR</span><span class="cp">}</span>/distfiles
SYNC=rsync://<span class="cp">${</span><span class="n">SERVIDOR_PORTAGE</span><span class="cp">}</span>/gentoo-portage
FETCHCOMMAND=&quot;rsync rsync://<span class="cp">${</span><span class="n">SERVIDOR_PORTAGE</span><span class="cp">}</span>/gentoo-distfiles/\\<span class="cp">${</span><span class="n">FILE</span><span class="cp">}</span> <span class="cp">${</span><span class="n">DISTDIR</span><span class="cp">}</span>&quot;
</pre></div>


<p>Observe el final de /etc/make.conf donde configuro que las descargas se hagan desde <em>otroequipo.tured.lan</em>. Sustituya éste por el nombre de un equipo o por la dirección IP del equipo que comparta su <em>portage</em> con el <em>daemon rsyncd</em>. En cambio, si no usa un equipo para compartir el <em>portage</em> entonces omita las cinco últimas líneas para que las descargas se hagan desde internet.</p>
<p>Configure /etc/locale.gen</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">locale</span><span class="p">.</span><span class="n">gen</span>
</pre></div>


<p>Con este contenido...</p>
<div class="highlight"><pre><span></span><span class="err">#</span><span class="w"> </span><span class="n">EEUU</span><span class="w"></span>
<span class="n">en_US</span><span class="w"> </span><span class="n">ISO</span><span class="o">-</span><span class="mi">8859</span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="n">en_US</span><span class="p">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Espania</span><span class="w"></span>
<span class="n">es_ES</span><span class="w"> </span><span class="n">ISO</span><span class="o">-</span><span class="mi">8859</span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="n">es_ES</span><span class="p">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"></span>
<span class="n">es_ES</span><span class="nv">@euro</span><span class="w"> </span><span class="n">ISO</span><span class="o">-</span><span class="mi">8859</span><span class="o">-</span><span class="mi">15</span><span class="w"></span>

<span class="err">#</span><span class="w"> </span><span class="n">Mexico</span><span class="w"></span>
<span class="n">es_MX</span><span class="w"> </span><span class="n">ISO</span><span class="o">-</span><span class="mi">8859</span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="n">es_MX</span><span class="p">.</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="w"></span>
</pre></div>


<p>Luego ejecute...</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">locale</span><span class="o">-</span><span class="n">gen</span>
</pre></div>


<p>Descargue el <em>portage</em>.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">mkdir</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">portage</span>
<span class="o">#</span> <span class="n">emerge</span> <span class="c1">--sync</span>
</pre></div>


<p>Vamos a crear un nuevo archivo llamado <em>02locales</em>:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">env</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">02</span><span class="n">locales</span>
</pre></div>


<p>El archivo /etc/env.d/02locales contiene los parámetros de nuestro idioma y región:</p>
<div class="highlight"><pre><span></span><span class="o">#</span>
<span class="o">#</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">env</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">02</span><span class="n">locales</span>
<span class="o">#</span>
<span class="n">LANG</span><span class="o">=</span><span class="ss">&quot;es_MX.UTF-8&quot;</span>
<span class="k">LANGUAGE</span><span class="o">=</span><span class="ss">&quot;es_MX.UTF-8&quot;</span>
<span class="n">LC_ALL</span><span class="o">=</span><span class="ss">&quot;es_MX.UTF-8&quot;</span>
</pre></div>


<p>Configure la zona horaria con:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">clock</span>
</pre></div>


<p>Esta configuración hace que se ajuste la hora al iniciar o terminar el <a href="http://es.wikipedia.org/wiki/Horario_de_verano">Horario de verano</a> conocido en el idioma inglés como <em>Daylight Saving Time</em> (DST).</p>
<div class="highlight"><pre><span></span><span class="n">TIMEZONE</span><span class="o">=</span><span class="ss">&quot;Mexico/General&quot;</span>
</pre></div>


<p>Configure el mapa de caracteres de la terminal con:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">consolefont</span>
</pre></div>


<p>Para tener un mayor soporte de caracteres uso:</p>
<div class="highlight"><pre><span></span><span class="n">CONSOLEFONT</span><span class="o">=</span><span class="ss">&quot;lat9v-16&quot;</span>
</pre></div>


<p>Configure el mapa del teclado con:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">keymaps</span>
</pre></div>


<p>La gran mayoría de los teclados de computadoras de México funcionan con:</p>
<div class="highlight"><pre><span></span><span class="n">KEYMAP</span><span class="o">=</span><span class="ss">&quot;la-latin1&quot;</span>
</pre></div>


<p>Pero hay también un gran número de teclados españoles, se distinguen por tener la tecla "Ç", para esos hay que usar:</p>
<div class="highlight"><pre><span></span><span class="n">KEYMAP</span><span class="o">=</span><span class="ss">&quot;es&quot;</span>
</pre></div>


<p>Configure el nombre del equipo con:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">conf</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="n">hostname</span>
</pre></div>


<p>Recargue (de nuevo) las variables del entorno para asegurarnos que se apliquen los cambios hechos hasta el momento.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">env</span><span class="o">-</span><span class="k">update</span>
<span class="o">#</span> <span class="k">source</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">profile</span>
<span class="o">#</span> <span class="n">export</span> <span class="n">PS1</span><span class="o">=</span><span class="ss">&quot;(prescott) $PS1&quot;</span>
</pre></div>


<h3>¿Quiere recompilar todo?</h3>
<p>Es su decisión tener todos los paquetes del <em>stage</em> compilados a sus parámetros en <em>make.conf</em>. Si así lo desea; ejecute <em>emerge -e world</em>. Pero le advierto que toma bastante tiempo. Si no quiere hacerlo, no hay problema, simplemente cada paquete nuevo que instale o actualice será compilado con los parámetros de <em>make.conf</em>.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">emerge</span> <span class="o">-</span><span class="n">pe</span> <span class="n">world</span>
<span class="o">#</span> <span class="n">emerge</span> <span class="o">-</span><span class="n">e</span> <span class="n">world</span>
</pre></div>


<h3>Kernel Linux</h3>
<p>Instale <em>ccache</em>.</p>
<div class="highlight"><pre><span></span># emerge ccache
# ccache -M 2G
# export PATH=&quot;/usr/lib/ccache/bin:<span class="cp">${</span><span class="n">PATH</span><span class="cp">}</span>&quot;
</pre></div>


<p>Descargue el <em>kernel</em>.</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">emerge</span> <span class="n">gentoo</span><span class="o">-</span><span class="n">sources</span>
<span class="o">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">linux</span>
</pre></div>


<p>Si ya he compilado la misma versión con anterioridad, copie el archivo <em>.config</em> al directorio /usr/src/linux</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">make</span> <span class="n">menuconfig</span>
<span class="o">#</span> <span class="n">make</span>
<span class="o">#</span> <span class="n">make</span> <span class="n">modules_install</span>
</pre></div>


<p>Como se trata de una compilación asistida, no voy a decirle que ejecute <em>make install</em> para instalar el kernel; eso lo haré cuando haya copiado la instalación al equipo final. Lo verá en la siguiente parte de esta guía.</p>
<h3>Configure la tabla de particiones</h3>
<p>Edite /etc/fstab</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">nano</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span>
</pre></div>


<p>Este es un ejemplo de /etc/fstab</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="o">&lt;</span><span class="n">fs</span><span class="o">&gt;</span>      <span class="o">&lt;</span><span class="n">mountpoint</span><span class="o">&gt;</span>    <span class="o">&lt;</span><span class="k">type</span><span class="o">&gt;</span>    <span class="o">&lt;</span><span class="n">opts</span><span class="o">&gt;</span>          <span class="o">&lt;</span><span class="n">dump</span><span class="o">/</span><span class="n">pass</span><span class="o">&gt;</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda1</span>   <span class="o">/</span><span class="n">boot</span>           <span class="n">ext2</span>      <span class="n">noauto</span><span class="p">,</span><span class="n">noatime</span>  <span class="mi">1</span> <span class="mi">2</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda2</span>   <span class="o">/</span><span class="n">home</span>           <span class="n">ext4</span>      <span class="k">defaults</span>        <span class="mi">0</span> <span class="mi">1</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda3</span>   <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">respaldos</span>  <span class="n">ext4</span>      <span class="n">noauto</span>          <span class="mi">0</span> <span class="mi">0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda5</span>   <span class="k">none</span>            <span class="n">swap</span>      <span class="n">sw</span>              <span class="mi">0</span> <span class="mi">0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda6</span>   <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">anterior</span>   <span class="n">ext4</span>      <span class="n">noauto</span>          <span class="mi">0</span> <span class="mi">0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda7</span>   <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">ubuntu</span>     <span class="n">ext4</span>      <span class="n">noauto</span>          <span class="mi">0</span> <span class="mi">0</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda8</span>   <span class="o">/</span>               <span class="n">ext4</span>      <span class="n">noatime</span>         <span class="mi">0</span> <span class="mi">1</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda9</span>   <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">portage</span>    <span class="n">reiserfs</span>  <span class="k">defaults</span>        <span class="mi">0</span> <span class="mi">1</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda10</span>  <span class="o">/</span><span class="n">tmp</span>            <span class="n">reiserfs</span>  <span class="n">noatime</span>         <span class="mi">0</span> <span class="mi">1</span>
<span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">sda11</span>  <span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="n">archivos</span>   <span class="n">ext4</span>      <span class="k">defaults</span>        <span class="mi">0</span> <span class="mi">1</span>
</pre></div>


<h3>Fin de la primera parte</h3>
<p>Termina aquí la primera parte con una instalación de Gentoo Linux configurada y con un <em>kernel</em> preparado. En la <a href="gentoo-linux-mi-instalacion-personal-2010-parte-2.html">segunda parte</a>, cambiaremos el <em>profile</em> a <em>desktop</em> e iremos instalando las aplicaciones favoritas de su servidor.</p>
<p><a href="gentoo-linux-mi-instalacion-personal-2010-parte-2.html">Vaya a la Segunda parte.</a></p>
                </article>
            </div>
            <div class="col-sm-4">
                <aside>
                    <div class="card my-4 movimientolibre-card aside-about">
                        <h5 class="card-header movimientolibre-card-header">A cerca de</h5>
                        <div class="card-body">
                            <p class="card-text">
                                Este es un sitio web que busca divulgar
                                conocimiento y promover el uso de software libre.
                                Su creador es reconocido como desarrollador que
                                fabrica estas herramientas tanto para entidades
                                públicas como privadas.
                                Conozca el portafolio:
                            </p>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item movimientolibre-list-group-item"><a class="card-link" href="/portafolio/soluciones/">Soluciones en software a la medida</a></li>
                        </ul>
                    </div>
                    <div class="card my-4 movimientolibre-card">
                        <h5 class="card-header movimientolibre-card-header">Etiquetas</h5>
                        <div class="card-body">
                            <ul class="list-unstyled mb-0">
                                <li><a href="/tag/astronomia.html">astronomía</a></li>
                                <li><a href="/tag/ciencia-de-datos.html">ciencia de datos</a></li>
                                <li><a href="/tag/conferencias.html">conferencias</a></li>
                                <li><a href="/tag/desarrollo.html">desarrollo</a></li>
                                <li><a href="/tag/docker.html">docker</a></li>
                                <li><a href="/tag/educacion.html">educación</a></li>
                                <li><a href="/tag/fedora.html">fedora</a></li>
                                <li><a href="/tag/flisol.html">flisol</a></li>
                                <li><a href="/tag/gentoo-linux.html">gentoo linux</a></li>
                                <li><a href="/tag/git.html">git</a></li>
                                <li><a href="/tag/gnu-linux.html">gnu linux</a></li>
                                <li><a href="/tag/gulag.html">gulag</a></li>
                                <li><a href="/tag/hardware.html">hardware</a></li>
                                <li><a href="/tag/kde.html">kde</a></li>
                                <li><a href="/tag/kernel-linux.html">kernel linux</a></li>
                                <li><a href="/tag/latex.html">latex</a></li>
                                <li><a href="/tag/markdown.html">markdown</a></li>
                                <li><a href="/tag/php.html">php</a></li>
                                <li><a href="/tag/politica.html">política</a></li>
                                <li><a href="/tag/postgresql.html">postgresql</a></li>
                                <li><a href="/tag/ruby.html">ruby</a></li>
                                <li><a href="/tag/servidores.html">servidores</a></li>
                                <li><a href="/tag/software-libre.html">software libre</a></li>
                                <li><a href="/tag/vida-cotidiana.html">vida cotidiana</a></li>
                                <li><a href="/tag/wallpapers.html">wallpapers</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card my-4 movimientolibre-card">
                        <h5 class="card-header movimientolibre-card-header">Buscar</h5>
                        <div class="card-body">
                    <script>
                        (function() {
                            var cx = '015464194519155410478:jqayrodgycs';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                    </script>
                    <gcse:search></gcse:search>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>
    <footer class="text-muted">
        <div class="container">
            <hr>
            <p>
                Copyright &copy; 2006-2019 Guillermo Valdés Lozano.
                Protegidos por la licencia <a href="/licencias/gfdl-es/">GFDL</a>.
                Se otorga permiso para copiar, distribuir y/o modificar estos documentos.
                Sitio web elaborado con <a href="https://blog.getpelican.com/">Pelican</a> que es programado en <a href="https://python.org/">Python</a>; el código fuente está en <a href="https://github.com/MovimientoLibre/plataforma.web">GitHub</a> protegido por la licencia <a href="/licencias/gpl-2-es/">GPLv3</a>.
            </p>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script src="/theme/js/movimiento-libre.js"></script>
</body>
</html>
