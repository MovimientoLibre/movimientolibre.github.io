<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Para evitar que una determinada versión de un paquete de software se instale en Gentoo Linux podemos enmascararlo.">
    <meta name="keywords" content="gentoo linux, apuntes">
    <meta name="author" content="Guillermo Valdés Lozano (guivaloz)">
    <meta itemprop="name" content="Enmascarar paquetes en Gentoo Linux">
    <meta itemprop="description" content="Para evitar que una determinada versión de un paquete de software se instale en Gentoo Linux podemos enmascararlo.">
    <meta itemprop="image" content="/apuntes/gentoo-portage-enmascarar/preview.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@guivaloz">
    <meta name="twitter:title" content="Enmascarar paquetes en Gentoo Linux">
    <meta name="twitter:description" content="Para evitar que una determinada versión de un paquete de software se instale en Gentoo Linux podemos enmascararlo.">
    <meta name="twitter:image:src" content="/apuntes/gentoo-portage-enmascarar/preview.png">
    <meta property="og:title" content="Enmascarar paquetes en Gentoo Linux">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/apuntes/gentoo-portage-enmascarar/">
    <meta property="og:image" content="/apuntes/gentoo-portage-enmascarar/preview.png">
    <meta property="og:description" content="Para evitar que una determinada versión de un paquete de software se instale en Gentoo Linux podemos enmascararlo.">
    <meta property="og:site_name" content="Movimiento Libre">
    <title>Enmascarar paquetes en Gentoo Linux - Movimiento Libre</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" href="/theme/images/icon-hires.png" sizes="192x192">
    <link rel="icon" href="/theme/images/icon-normal.png" sizes="128x128">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="alternate" href="/feeds/all.rss.xml" type="application/rss+xml" title="Movimiento Libre Full RSS Feed" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans">
    <link rel="stylesheet" href="/theme/css/movimiento-libre.css">
                    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-74263253-1"></script>
                    <script>
                        window.dataLayer = window.dataLayer || [];
                        function gtag(){dataLayer.push(arguments);}
                        gtag('js', new Date());
                        gtag('config', 'UA-74263253-1');
                    </script>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-light fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="/">Movimiento Libre</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navBootstrap4" aria-controls="navBootstrap4" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navBootstrap4">
                <ul class="navbar-nav mr-auto">
                    <li><a class="nav-link" href="/category/apuntes.html">Apuntes</a></li>
                    <li><a class="nav-link" href="/category/articulos.html">Artículos</a></li>
                    <li><a class="nav-link" href="/category/presentaciones.html">Presentaciones</a></li>
                    <li><a class="nav-link" href="/portafolio/contacto/index.html">Contacto</a></li>
                </ul>
                <ul class="navbar-nav movimientolibre-navbar-icons">
                    <li><a class="movimientolibre-navbar-icon-link" href="https://twitter.com/guivaloz/" target="_blank"><i class="fab fa-twitter-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="https://www.facebook.com/movimientolibrepuntocom/" target="_blank"><i class="fab fa-facebook-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="https://github.com/guivaloz" target="_blank"><i class="fab fa-github-square"></i></a></li>
                    <li><a class="movimientolibre-navbar-icon-link" href="https://www.movimientolibre.com/feeds/all.rss.xml"><i class="fa fa-rss-square"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <header>
            <div class="jumbotron head-welcome" itemscope itemtype="http://schema.org/Organization">
                <h1 class="jumbotron-heading head-site-name" itemprop="name">Movimiento Libre</h1>
                <p class="head-site-description" itemprop="description">Plataforma de divulgación de conocimiento libre por Ing. Guillermo Valdés Lozano (guivaloz)</p>
            </div>
        </header>
        <div class="row">
            <div class="col-sm-8">
                <article class="article-post">
                    <script type="application/ld+json">
                        {
                            "@context": "http://schema.org",
                            "@type": "Article",
                            "publisher": {
                            "@type": "Organization",
                            "name": "Movimiento Libre",
                            "logo": {
                                "@type": "ImageObject",
                                "url": "https://www.movimientolibre.com/theme/images/movimientolibre.png"
                            },
                            "url": "https://www.movimientolibre.com"
                        },
                        "author": "Guillermo Valdés Lozano (guivaloz)",
                        "name": "Enmascarar paquetes en Gentoo Linux",
                        "headline": "Enmascarar paquetes en Gentoo Linux",
                        "description": "Para evitar que una determinada versión de un paquete de software se instale en Gentoo Linux podemos enmascararlo.",
                        "dateCreated": "2014-07-26 13:00:00-05:00",
                        "datePublished": "2014-07-26 13:00:00-05:00",
                        "dateModified": "2014-07-26 13:00:00-05:00",
                        "image": "https://www.movimientolibre.com/apuntes/gentoo-portage-enmascarar/preview.png",
                        "url": "https://www.movimientolibre.com/apuntes/gentoo-portage-enmascarar/"
                        }
                    </script>
                    <h2 class="article-post-title">Enmascarar paquetes en Gentoo Linux</h2>
                    <p class="article-post-meta">Guillermo Valdés Lozano (guivaloz)<br>26 julio 2014</p>
<p><img class="img-fluid" src="gentoo-portage-enmascarar.png" alt="Gentoo Portage enmascarar"></p>
<p>Para evitar que una determinada verisón de un paquete de software se instale en Gentoo Linux podemos <em>enmascararlo</em>.</p>
<p>Por ejemplo, necesito quedareme con PostgreSQL versión 9.2, aunque la versión 9.3 ya está marcada como estable. La razón es que las extensiones PostGIS estables son para la versión 9.3 de PostgreSQL.</p>
<p>Primero, verifico que tengo instalada la 9.3...</p>
<div class="highlight"><pre><span></span># <span class="nv">equery</span> <span class="nv">list</span> <span class="s2">&quot;</span><span class="s">postgresql*</span><span class="s2">&quot;</span>
 <span class="o">*</span> <span class="nv">Searching</span> <span class="k">for</span> <span class="nv">postgresql</span><span class="o">*</span> ...
[<span class="nv">IP</span><span class="o">-</span>] [  ] <span class="nv">dev</span><span class="o">-</span><span class="nv">db</span><span class="o">/</span><span class="nv">postgresql</span><span class="o">-</span><span class="nv">base</span><span class="o">-</span><span class="mi">9</span>.<span class="mi">3</span>.<span class="mi">3</span>:<span class="mi">9</span>.<span class="mi">3</span>
[<span class="nv">IP</span><span class="o">-</span>] [  ] <span class="nv">dev</span><span class="o">-</span><span class="nv">db</span><span class="o">/</span><span class="nv">postgresql</span><span class="o">-</span><span class="nv">server</span><span class="o">-</span><span class="mi">9</span>.<span class="mi">3</span>.<span class="mi">3</span>:<span class="mi">9</span>.<span class="mi">3</span>
</pre></div>


<p>Así que aprovecho las nuevas características del Portage para enmascarar. Creo un directorio llamado <strong>package.mask</strong> en <strong>/etc/portage</strong>:</p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">cd</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">portage</span><span class="o">/</span>
<span class="o">#</span> <span class="n">mkdir</span> <span class="n">package</span><span class="p">.</span><span class="n">mask</span>
</pre></div>


<p>Y en dos archivos de texto, escribo la expresión <strong>&gt;=categoría/paquete-nn.nn</strong></p>
<div class="highlight"><pre><span></span><span class="o">#</span> <span class="n">echo</span> <span class="ss">&quot;&gt;=dev-db/postgresql-base-9.3&quot;</span> <span class="o">&gt;</span> <span class="n">package</span><span class="p">.</span><span class="n">mask</span><span class="o">/</span><span class="n">dev</span><span class="o">-</span><span class="n">db_postgresql</span><span class="o">-</span><span class="n">base</span>
<span class="o">#</span> <span class="n">echo</span> <span class="ss">&quot;&gt;=dev-db/postgresql-server-9.3&quot;</span> <span class="o">&gt;</span> <span class="n">package</span><span class="p">.</span><span class="n">mask</span><span class="o">/</span><span class="n">dev</span><span class="o">-</span><span class="n">db_postgresql</span><span class="o">-</span><span class="n">server</span>
</pre></div>


<p>Dichas expresiones equivalen a decir: <em>enmascara todas las versiones iguales o mayores a 9.3 del PostgreSQL</em>.</p>
<p>Verifico...</p>
<div class="highlight"><pre><span></span><span class="nv">minos</span> <span class="nv">portage</span> # <span class="nv">equery</span> <span class="nv">list</span> <span class="s2">&quot;</span><span class="s">postgresql*</span><span class="s2">&quot;</span>
 <span class="o">*</span> <span class="nv">Searching</span> <span class="k">for</span> <span class="nv">postgresql</span><span class="o">*</span> ...
[<span class="nv">IP</span><span class="o">-</span>] [<span class="nv">M</span> ] <span class="nv">dev</span><span class="o">-</span><span class="nv">db</span><span class="o">/</span><span class="nv">postgresql</span><span class="o">-</span><span class="nv">base</span><span class="o">-</span><span class="mi">9</span>.<span class="mi">3</span>.<span class="mi">3</span>:<span class="mi">9</span>.<span class="mi">3</span>
[<span class="nv">IP</span><span class="o">-</span>] [<span class="nv">M</span> ] <span class="nv">dev</span><span class="o">-</span><span class="nv">db</span><span class="o">/</span><span class="nv">postgresql</span><span class="o">-</span><span class="nv">server</span><span class="o">-</span><span class="mi">9</span>.<span class="mi">3</span>.<span class="mi">3</span>:<span class="mi">9</span>.<span class="mi">3</span>
</pre></div>


<p>Ahora sí, puedo desinstalar la versión 9.3 e instalar la 9.2 sin temor que me la cambie en un futuro.</p>
                </article>
            </div>
            <div class="col-sm-4">
                <aside>
                    <div class="card my-4 movimientolibre-card aside-about">
                        <h5 class="card-header movimientolibre-card-header">A cerca de</h5>
                        <div class="card-body">
                            <p class="card-text">
                                Este es un sitio web que busca divulgar
                                conocimiento y promover el uso de software libre.
                                Su creador es reconocido como desarrollador que
                                fabrica estas herramientas tanto para entidades
                                públicas como privadas.
                                Conozca el portafolio:
                            </p>
                        </div>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item movimientolibre-list-group-item"><a class="card-link" href="/portafolio/soluciones/">Soluciones en software a la medida</a></li>
                        </ul>
                    </div>
                    <div class="card my-4 movimientolibre-card">
                        <h5 class="card-header movimientolibre-card-header">Etiquetas</h5>
                        <div class="card-body">
                            <ul class="list-unstyled mb-0">
                                <li><a href="/tag/astronomia.html">astronomía</a></li>
                                <li><a href="/tag/ciencia-de-datos.html">ciencia de datos</a></li>
                                <li><a href="/tag/conferencias.html">conferencias</a></li>
                                <li><a href="/tag/desarrollo.html">desarrollo</a></li>
                                <li><a href="/tag/docker.html">docker</a></li>
                                <li><a href="/tag/educacion.html">educación</a></li>
                                <li><a href="/tag/fedora.html">fedora</a></li>
                                <li><a href="/tag/flisol.html">flisol</a></li>
                                <li><a href="/tag/gentoo-linux.html">gentoo linux</a></li>
                                <li><a href="/tag/git.html">git</a></li>
                                <li><a href="/tag/gnu-linux.html">gnu linux</a></li>
                                <li><a href="/tag/gulag.html">gulag</a></li>
                                <li><a href="/tag/hardware.html">hardware</a></li>
                                <li><a href="/tag/kde.html">kde</a></li>
                                <li><a href="/tag/kernel-linux.html">kernel linux</a></li>
                                <li><a href="/tag/latex.html">latex</a></li>
                                <li><a href="/tag/markdown.html">markdown</a></li>
                                <li><a href="/tag/php.html">php</a></li>
                                <li><a href="/tag/politica.html">política</a></li>
                                <li><a href="/tag/postgresql.html">postgresql</a></li>
                                <li><a href="/tag/ruby.html">ruby</a></li>
                                <li><a href="/tag/servidores.html">servidores</a></li>
                                <li><a href="/tag/software-libre.html">software libre</a></li>
                                <li><a href="/tag/vida-cotidiana.html">vida cotidiana</a></li>
                                <li><a href="/tag/wallpapers.html">wallpapers</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card my-4 movimientolibre-card">
                        <h5 class="card-header movimientolibre-card-header">Buscar</h5>
                        <div class="card-body">
                    <script>
                        (function() {
                            var cx = '015464194519155410478:jqayrodgycs';
                            var gcse = document.createElement('script');
                            gcse.type = 'text/javascript';
                            gcse.async = true;
                            gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                            var s = document.getElementsByTagName('script')[0];
                            s.parentNode.insertBefore(gcse, s);
                        })();
                    </script>
                    <gcse:search></gcse:search>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>
    <footer class="text-muted">
        <div class="container">
            <hr>
            <p>
                Copyright &copy; 2006-2019 Guillermo Valdés Lozano.
                Protegidos por la licencia <a href="/licencias/gfdl-es/">GFDL</a>.
                Se otorga permiso para copiar, distribuir y/o modificar estos documentos.
                Sitio web elaborado con <a href="https://blog.getpelican.com/">Pelican</a> que es programado en <a href="https://python.org/">Python</a>; el código fuente está en <a href="https://github.com/MovimientoLibre/plataforma.web">GitHub</a> protegido por la licencia <a href="/licencias/gpl-2-es/">GPLv3</a>.
            </p>
        </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
    <script src="/theme/js/movimiento-libre.js"></script>
</body>
</html>
